{"ast":null,"code":"import _slicedToArray from\"/Users/Loki_Office/Downloads/MarvelAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Bar}from'react-chartjs-2';import allActions from'../../store/actions';import{useDispatch,useSelector}from'react-redux';import Header from'../../components/Header';import Footer from'../../components/Footer';import{Container}from'./style';export default function ChartDemo(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useSelector=useSelector(function(state){return{dataMarvel:state.character};}),dataMarvel=_useSelector.dataMarvel;var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),index=_useState4[0],setIndex=_useState4[1];dataMarvel.then(function(response){return setData(response);});var dispatch=useDispatch();useEffect(function(){var getDataMarvel=function getDataMarvel(){dispatch(allActions.characterActions.requestGetMarvel());};getDataMarvel();},[]);var selectCharacter=function selectCharacter(index){setIndex(index);};var handleData=function handleData(index){var mainData=data.data[index];var prevData=index>0?data.data[index-1]:data.data[data.data.length-1];var nextData=data.data[index+1];var ad=[[prevData.comics.items.length,prevData.series.items.length],[mainData.comics.items.length,mainData.series.items.length],[nextData.comics.items.length,nextData.series.items.length]];return[{label:'Events',data:ad[0],backgroundColor:['rgba(255, 99, 132, 0.2)','rgba(54, 162, 235, 0.2)'],borderColor:['rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)'],borderWidth:1},{label:'Series',data:ad[1],backgroundColor:['rgba(75, 192, 192, 0.2)','rgba(153, 102, 255, 0.2)'],borderColor:['rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)'],borderWidth:1}];};var handleLabel=function handleLabel(index){var mainData=data.data[index];var prevData=index>0?data.data[index-1]:data.data[data.data.length-1];var nextData=data.data[index+1];return[prevData.name,mainData.name,nextData.name];};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"div\",{className:\"listContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"charecterList\"},(data===null||data===void 0?void 0:data.data)&&data.data.map(function(item,ind){return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return selectCharacter(ind);},key:ind},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:index===ind?'selectedCharacter':'',alt:\"\",src:\"\".concat(item.thumbnail.path,\".\").concat(item.thumbnail.extension)})),/*#__PURE__*/React.createElement(\"div\",{className:\"characterName\"},item.name));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"chartContainer\"},(data===null||data===void 0?void 0:data.data)&&data.data[0]&&/*#__PURE__*/React.createElement(Bar,{height:350,width:600,data:{labels:handleLabel(index),datasets:handleData(index),options:{responsive:true,animation:{},scales:{yAxes:[{ticks:{beginAtZero:true}}]}}}}))),/*#__PURE__*/React.createElement(Footer,null));}","map":{"version":3,"sources":["/Users/Loki_Office/Downloads/MarvelAPI/src/pages/Chart/index.js"],"names":["React","useState","useEffect","Bar","allActions","useDispatch","useSelector","Header","Footer","Container","ChartDemo","data","setData","state","dataMarvel","character","index","setIndex","then","response","dispatch","getDataMarvel","characterActions","requestGetMarvel","selectCharacter","handleData","mainData","prevData","length","nextData","ad","comics","items","series","label","backgroundColor","borderColor","borderWidth","handleLabel","name","map","item","ind","thumbnail","path","extension","labels","datasets","options","responsive","animation","scales","yAxes","ticks","beginAtZero"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport allActions from '../../store/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport { Container } from './style';\r\n\r\nexport default function ChartDemo() {\r\n  const [data, setData] = useState({});\r\n  const { dataMarvel } = useSelector(state => ({\r\n    dataMarvel: state.character\r\n  }));\r\n  const [index, setIndex] = useState(0);\r\n  dataMarvel.then(response => setData(response));\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const getDataMarvel = () => {\r\n      dispatch(allActions.characterActions.requestGetMarvel());\r\n    };\r\n    getDataMarvel();\r\n  }, []);\r\n\r\n  const selectCharacter = index => {\r\n    setIndex(index);\r\n  };\r\n  const handleData = index => {\r\n    let mainData = data.data[index];\r\n    let prevData =\r\n      index > 0 ? data.data[index - 1] : data.data[data.data.length - 1];\r\n    let nextData = data.data[index + 1];\r\n    let ad = [\r\n      [prevData.comics.items.length, prevData.series.items.length],\r\n      [mainData.comics.items.length, mainData.series.items.length],\r\n      [nextData.comics.items.length, nextData.series.items.length]\r\n    ];\r\n    return [\r\n      {\r\n        label: 'Events',\r\n        data: ad[0],\r\n        backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)'],\r\n        borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)'],\r\n        borderWidth: 1\r\n      },\r\n      {\r\n        label: 'Series',\r\n        data: ad[1],\r\n        backgroundColor: [\r\n          'rgba(75, 192, 192, 0.2)',\r\n          'rgba(153, 102, 255, 0.2)'\r\n        ],\r\n        borderColor: ['rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],\r\n        borderWidth: 1\r\n      }\r\n    ];\r\n  };\r\n  const handleLabel = index => {\r\n    let mainData = data.data[index];\r\n    let prevData =\r\n      index > 0 ? data.data[index - 1] : data.data[data.data.length - 1];\r\n    let nextData = data.data[index + 1];\r\n    return [prevData.name, mainData.name, nextData.name];\r\n  };\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        <div className=\"listContainer\">\r\n          <div className=\"charecterList\">\r\n            {data?.data &&\r\n              data.data.map((item, ind) => (\r\n                <div onClick={() => selectCharacter(ind)} key={ind}>\r\n                  <div>\r\n                    <img\r\n                      className={index === ind ? 'selectedCharacter' : ''}\r\n                      alt=\"\"\r\n                      src={`${item.thumbnail.path}.${item.thumbnail.extension}`}\r\n                    />\r\n                  </div>\r\n                  <div className=\"characterName\">{item.name}</div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"chartContainer\">\r\n          {data?.data && data.data[0] && (\r\n            <Bar\r\n              height={350}\r\n              width={600}\r\n              data={{\r\n                labels: handleLabel(index),\r\n                datasets: handleData(index),\r\n                options: {\r\n                  responsive: true,\r\n                  animation: {},\r\n                  scales: {\r\n                    yAxes: [\r\n                      {\r\n                        ticks: {\r\n                          beginAtZero: true\r\n                        }\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </Container>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}