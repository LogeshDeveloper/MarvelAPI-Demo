{"ast":null,"code":"import { takeLatest, put, call, delay } from 'redux-saga/effects';\nimport api from '../../services/api';\n\nfunction apiGet() {\n  return api.get('/v1/public/characters', {\n    params: {\n      ts: 1,\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\n      hash: '99ad9749732783208ca457dd8b2a8065',\n      limit: 20,\n      offset: 0\n    }\n  });\n}\n\nfunction apiSearch(name) {\n  return name !== '' && api.get('/v1/public/characters', {\n    params: {\n      ts: 1,\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\n      hash: '99ad9749732783208ca457dd8b2a8065',\n      limit: 20,\n      offset: 0,\n      nameStartsWith: name\n    }\n  });\n}\n\nfunction* getMarvel() {\n  try {\n    const response = yield call(apiGet);\n    yield delay(1000);\n    yield put({\n      type: 'SUCCESS_GET_MARVEL',\n      payload: {\n        data: response.data.data.results\n      }\n    });\n  } catch (err) {\n    yield put({\n      type: 'FAILURE_GET_MARVEL'\n    });\n  }\n}\n\nfunction apiGetId(id) {\n  return api.get(`/v1/public/characters/${id}`, {\n    params: {\n      ts: 1,\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\n      hash: '99ad9749732783208ca457dd8b2a8065'\n    }\n  });\n}\n\nfunction apiGetSeriesId(id) {\n  return api.get(`/v1/public/characters/${id}/series`, {\n    params: {\n      ts: 1,\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\n      hash: '99ad9749732783208ca457dd8b2a8065'\n    }\n  });\n}\n\nfunction* getMarvelId(action) {\n  try {\n    const responseId = yield call(apiGetId, action.payload.id);\n    const responseSerie = yield call(apiGetSeriesId, action.payload.id);\n    yield delay(1000);\n    yield put({\n      type: 'SUCCESS_GET_MARVEL_ID',\n      payload: {\n        dataUser: responseId.data.data.results,\n        dataSeries: responseSerie.data.data.results\n      }\n    });\n  } catch (err) {\n    yield put({\n      type: 'FAILURE_GET_MARVEL_ID'\n    });\n  }\n}\n\nfunction* searchMarvel(action) {\n  try {\n    const response = yield call(apiSearch, action.payload.name);\n    yield put({\n      type: 'SUCCESS_SEARCH_MARVEL',\n      payload: {\n        data: response.data.data.results\n      }\n    });\n  } catch (err) {\n    yield put({\n      type: 'FAILURE_SEARCH_MARVEL'\n    });\n  }\n}\n\nexport default function* root() {\n  yield takeLatest('REQUEST_GET_MARVEL', getMarvel);\n  yield takeLatest('REQUEST_GET_MARVEL_ID', getMarvelId);\n  yield takeLatest('REQUEST_SEARCH_MARVEL', searchMarvel);\n}","map":{"version":3,"sources":["/Users/Loki_Office/Downloads/MarvelAPI/src/store/sagas/index.js"],"names":["takeLatest","put","call","delay","api","apiGet","get","params","ts","apikey","hash","limit","offset","apiSearch","name","nameStartsWith","getMarvel","response","type","payload","data","results","err","apiGetId","id","apiGetSeriesId","getMarvelId","action","responseId","responseSerie","dataUser","dataSeries","searchMarvel","root"],"mappings":"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","sourcesContent":["import { takeLatest, put, call, delay } from 'redux-saga/effects';\r\n\r\nimport api from '../../services/api';\r\n\r\nfunction apiGet() {\r\n  return api.get('/v1/public/characters', {\r\n    params: {\r\n      ts: 1,\r\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\r\n      hash: '99ad9749732783208ca457dd8b2a8065',\r\n      limit: 20,\r\n      offset: 0\r\n    }\r\n  });\r\n}\r\n\r\nfunction apiSearch(name) {\r\n  return (\r\n    name !== '' &&\r\n    api.get('/v1/public/characters', {\r\n      params: {\r\n        ts: 1,\r\n        apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\r\n        hash: '99ad9749732783208ca457dd8b2a8065',\r\n        limit: 20,\r\n        offset: 0,\r\n        nameStartsWith: name\r\n      }\r\n    })\r\n  );\r\n}\r\n\r\nfunction* getMarvel() {\r\n  try {\r\n    const response = yield call(apiGet);\r\n\r\n    yield delay(1000);\r\n    yield put({\r\n      type: 'SUCCESS_GET_MARVEL',\r\n      payload: { data: response.data.data.results }\r\n    });\r\n  } catch (err) {\r\n    yield put({ type: 'FAILURE_GET_MARVEL' });\r\n  }\r\n}\r\n\r\nfunction apiGetId(id) {\r\n  return api.get(`/v1/public/characters/${id}`, {\r\n    params: {\r\n      ts: 1,\r\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\r\n      hash: '99ad9749732783208ca457dd8b2a8065'\r\n    }\r\n  });\r\n}\r\n\r\nfunction apiGetSeriesId(id) {\r\n  return api.get(`/v1/public/characters/${id}/series`, {\r\n    params: {\r\n      ts: 1,\r\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\r\n      hash: '99ad9749732783208ca457dd8b2a8065'\r\n    }\r\n  });\r\n}\r\n\r\nfunction* getMarvelId(action) {\r\n  try {\r\n    const responseId = yield call(apiGetId, action.payload.id);\r\n    const responseSerie = yield call(apiGetSeriesId, action.payload.id);\r\n\r\n    yield delay(1000);\r\n    yield put({\r\n      type: 'SUCCESS_GET_MARVEL_ID',\r\n      payload: {\r\n        dataUser: responseId.data.data.results,\r\n        dataSeries: responseSerie.data.data.results\r\n      }\r\n    });\r\n  } catch (err) {\r\n    yield put({ type: 'FAILURE_GET_MARVEL_ID' });\r\n  }\r\n}\r\n\r\nfunction* searchMarvel(action) {\r\n  try {\r\n    const response = yield call(apiSearch, action.payload.name);\r\n\r\n    yield put({\r\n      type: 'SUCCESS_SEARCH_MARVEL',\r\n      payload: { data: response.data.data.results }\r\n    });\r\n  } catch (err) {\r\n    yield put({ type: 'FAILURE_SEARCH_MARVEL' });\r\n  }\r\n}\r\n\r\nexport default function* root() {\r\n  yield takeLatest('REQUEST_GET_MARVEL', getMarvel);\r\n  yield takeLatest('REQUEST_GET_MARVEL_ID', getMarvelId);\r\n  yield takeLatest('REQUEST_SEARCH_MARVEL', searchMarvel);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}