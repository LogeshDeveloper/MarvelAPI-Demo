{"ast":null,"code":"var _jsxFileName = \"/Users/Loki_Office/Downloads/MarvelAPI/src/pages/Chart/index.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport allActions from '../../store/actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Header from '../../components/Header';\nimport Footer from '../../components/Footer';\nimport { Container } from './style';\nexport default function ChartDemo() {\n  const reference = useRef();\n  const [selectedId, setSelectedId] = useState(0);\n  const [d0, setD0] = useState(null);\n  const [d1, setD1] = useState(null);\n  const [d2, setD2] = useState(null);\n  const [draggedContent, setDraggedContent] = useState(null);\n  const [data, setData] = useState({});\n  const {\n    dataMarvel\n  } = useSelector(state => ({\n    dataMarvel: state.character\n  }));\n  const [index, setIndex] = useState(0);\n  dataMarvel.then(response => setData(response));\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const getDataMarvel = () => {\n      dispatch(allActions.characterActions.requestGetMarvel());\n    };\n\n    getDataMarvel();\n  }, []);\n\n  const dragStart = ind => {\n    setDraggedContent(ind);\n  };\n\n  const selectCharacter = ind => {\n    setIndex(ind);\n  };\n\n  const captureDrag = (boxIndex, e) => {\n    e.preventDefault();\n    setSelectedId(draggedContent);\n    console.log(boxIndex);\n\n    switch (boxIndex) {\n      case 0:\n        setD0(data.data[draggedContent]);\n        break;\n\n      case 1:\n        setD1(data.data[draggedContent]);\n        break;\n\n      case 2:\n        setD2(data.data[draggedContent]);\n        break;\n    }\n  };\n\n  const dragOver = e => {\n    e.preventDefault();\n  };\n\n  const handleData = index => {\n    let mainData = data.data[index];\n    let prevData = index > 0 ? data.data[index - 1] : data.data[data.data.length - 1];\n    let nextData = data.data[index + 1];\n    let ad = [[prevData.comics.items.length, prevData.series.items.length], [mainData.comics.items.length, mainData.series.items.length], [nextData.comics.items.length, nextData.series.items.length]];\n    return [{\n      label: 'Events',\n      data: ad[0],\n      backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)'],\n      borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)'],\n      borderWidth: 1\n    }, {\n      label: 'Series',\n      data: ad[1],\n      backgroundColor: ['rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)'],\n      borderColor: ['rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],\n      borderWidth: 1\n    }];\n  };\n\n  const handleLabel = index => {\n    let mainData = data.data[index];\n    let prevData = index > 0 ? data.data[index - 1] : data.data[data.data.length - 1];\n    let nextData = data.data[index + 1];\n    return [prevData.name, mainData.name, nextData.name];\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"charecterList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, (data === null || data === void 0 ? void 0 : data.data) && data.data.map((item, ind) => /*#__PURE__*/React.createElement(\"div\", {\n    ref: reference,\n    onDragStart: () => dragStart(ind),\n    draggable: true,\n    onClick: () => selectCharacter(ind),\n    key: ind,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: index === ind ? 'selectedCharacter' : '',\n    alt: \"\",\n    src: `${item.thumbnail.path}.${item.thumbnail.extension}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"characterName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, item.name))))), /*#__PURE__*/React.createElement(\"div\", {\n    onDrop: captureDrag.bind(this, 0),\n    onDragOver: dragOver,\n    className: \"chartContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, (data === null || data === void 0 ? void 0 : data.data) && data.data[0] && d0 && /*#__PURE__*/React.createElement(Bar, {\n    height: 350,\n    width: 600,\n    data: {\n      labels: handleLabel(index),\n      datasets: handleData(index),\n      options: {\n        responsive: true,\n        animation: {},\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true\n            }\n          }]\n        }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/Loki_Office/Downloads/MarvelAPI/src/pages/Chart/index.js"],"names":["React","useState","useEffect","useRef","Bar","allActions","useDispatch","useSelector","Header","Footer","Container","ChartDemo","reference","selectedId","setSelectedId","d0","setD0","d1","setD1","d2","setD2","draggedContent","setDraggedContent","data","setData","dataMarvel","state","character","index","setIndex","then","response","dispatch","getDataMarvel","characterActions","requestGetMarvel","dragStart","ind","selectCharacter","captureDrag","boxIndex","e","preventDefault","console","log","dragOver","handleData","mainData","prevData","length","nextData","ad","comics","items","series","label","backgroundColor","borderColor","borderWidth","handleLabel","name","map","item","thumbnail","path","extension","bind","labels","datasets","options","responsive","animation","scales","yAxes","ticks","beginAtZero"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport allActions from '../../store/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport { Container } from './style';\r\n\r\nexport default function ChartDemo() {\r\n  const reference = useRef();\r\n  const [selectedId, setSelectedId] = useState(0);\r\n  const [d0, setD0] = useState(null);\r\n  const [d1, setD1] = useState(null);\r\n  const [d2, setD2] = useState(null);\r\n  const [draggedContent, setDraggedContent] = useState(null)\r\n  const [data, setData] = useState({});\r\n  const { dataMarvel } = useSelector(state => ({\r\n    dataMarvel: state.character\r\n  }));\r\n  const [index, setIndex] = useState(0);\r\n  dataMarvel.then(response => setData(response));\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const getDataMarvel = () => {\r\n      dispatch(allActions.characterActions.requestGetMarvel());\r\n    };\r\n    getDataMarvel();\r\n  }, []);\r\n\r\n  const dragStart = (ind) => {\r\n    setDraggedContent(ind);\r\n  }\r\n\r\n  const selectCharacter = ind => {\r\n    setIndex(ind);\r\n  };\r\n\r\n  const captureDrag = (boxIndex, e) => {\r\n    e.preventDefault();\r\n    setSelectedId(draggedContent);\r\n\r\n    console.log(boxIndex);\r\n    switch(boxIndex)\r\n    {\r\n      case 0:\r\n        setD0(data.data[draggedContent]);        \r\n        break;\r\n      case 1:\r\n        setD1(data.data[draggedContent]);        \r\n        break;\r\n      case 2:\r\n        setD2(data.data[draggedContent]); \r\n        break;\r\n    }\r\n  }\r\n\r\n  const dragOver = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  const handleData = index => {\r\n    let mainData = data.data[index];\r\n    let prevData =\r\n      index > 0 ? data.data[index - 1] : data.data[data.data.length - 1];\r\n    let nextData = data.data[index + 1];\r\n    let ad = [\r\n      [prevData.comics.items.length, prevData.series.items.length],\r\n      [mainData.comics.items.length, mainData.series.items.length],\r\n      [nextData.comics.items.length, nextData.series.items.length]\r\n    ];\r\n    return [\r\n      {\r\n        label: 'Events',\r\n        data: ad[0],\r\n        backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)'],\r\n        borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)'],\r\n        borderWidth: 1\r\n      },\r\n      {\r\n        label: 'Series',\r\n        data: ad[1],\r\n        backgroundColor: [\r\n          'rgba(75, 192, 192, 0.2)',\r\n          'rgba(153, 102, 255, 0.2)'\r\n        ],\r\n        borderColor: ['rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],\r\n        borderWidth: 1\r\n      }\r\n    ];\r\n  };\r\n  const handleLabel = index => {\r\n    let mainData = data.data[index];\r\n    let prevData =\r\n      index > 0 ? data.data[index - 1] : data.data[data.data.length - 1];\r\n    let nextData = data.data[index + 1];\r\n    return [prevData.name, mainData.name, nextData.name];\r\n  };\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        <div className=\"listContainer\">\r\n          <div className=\"charecterList\">\r\n            {data?.data &&\r\n              data.data.map((item, ind) => (\r\n                <div ref={reference} onDragStart={() => dragStart(ind)} draggable={true} onClick={() => selectCharacter(ind)} key={ind}>\r\n                  <div>\r\n                    <img\r\n                      className={index === ind ? 'selectedCharacter' : ''}\r\n                      alt=\"\"\r\n                      src={`${item.thumbnail.path}.${item.thumbnail.extension}`}\r\n                    />\r\n                  </div>\r\n                  <div className=\"characterName\">{item.name}</div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n        <div onDrop={captureDrag.bind(this, 0)} onDragOver={dragOver} className=\"chartContainer\">\r\n          {data?.data && data.data[0] && d0 && (\r\n            <Bar\r\n              height={350}\r\n              width={600}\r\n              data={{\r\n                labels: handleLabel(index),\r\n                datasets: handleData(index),\r\n                options: {\r\n                  responsive: true,\r\n                  animation: {},\r\n                  scales: {\r\n                    yAxes: [\r\n                      {\r\n                        ticks: {\r\n                          beginAtZero: true\r\n                        }\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </Container>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}