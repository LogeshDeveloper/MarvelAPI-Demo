{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Loki_Office/Downloads/MarvelAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getMarvel),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getMarvelId),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(searchMarvel),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(root);import{takeLatest,put,call,delay}from'redux-saga/effects';import api from'../../services/api';function apiGet(){return api.get('/v1/public/characters',{params:{ts:1,apikey:'bcd0d1ec98bea664b61eb20f626c3d6d',hash:'99ad9749732783208ca457dd8b2a8065',limit:20,offset:0}});}function apiSearch(name){return name!==''&&api.get('/v1/public/characters',{params:{ts:1,apikey:'bcd0d1ec98bea664b61eb20f626c3d6d',hash:'99ad9749732783208ca457dd8b2a8065',limit:20,offset:0,nameStartsWith:name}});}function getMarvel(){var response;return _regeneratorRuntime.wrap(function getMarvel$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return call(apiGet);case 3:response=_context.sent;_context.next=6;return delay(1000);case 6:_context.next=8;return put({type:'SUCCESS_GET_MARVEL',payload:{data:response.data.data.results}});case 8:_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);_context.next=14;return put({type:'FAILURE_GET_MARVEL'});case 14:case\"end\":return _context.stop();}}},_marked,null,[[0,10]]);}function apiGetId(id){return api.get(\"/v1/public/characters/\".concat(id),{params:{ts:1,apikey:'bcd0d1ec98bea664b61eb20f626c3d6d',hash:'99ad9749732783208ca457dd8b2a8065'}});}function apiGetSeriesId(id){return api.get(\"/v1/public/characters/\".concat(id,\"/series\"),{params:{ts:1,apikey:'bcd0d1ec98bea664b61eb20f626c3d6d',hash:'99ad9749732783208ca457dd8b2a8065'}});}function getMarvelId(action){var responseId,responseSerie;return _regeneratorRuntime.wrap(function getMarvelId$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return call(apiGetId,action.payload.id);case 3:responseId=_context2.sent;_context2.next=6;return call(apiGetSeriesId,action.payload.id);case 6:responseSerie=_context2.sent;_context2.next=9;return delay(1000);case 9:_context2.next=11;return put({type:'SUCCESS_GET_MARVEL_ID',payload:{dataUser:responseId.data.data.results,dataSeries:responseSerie.data.data.results}});case 11:_context2.next=17;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);_context2.next=17;return put({type:'FAILURE_GET_MARVEL_ID'});case 17:case\"end\":return _context2.stop();}}},_marked2,null,[[0,13]]);}function searchMarvel(action){var response;return _regeneratorRuntime.wrap(function searchMarvel$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return call(apiSearch,action.payload.name);case 3:response=_context3.sent;_context3.next=6;return put({type:'SUCCESS_SEARCH_MARVEL',payload:{data:response.data.data.results}});case 6:_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);_context3.next=12;return put({type:'FAILURE_SEARCH_MARVEL'});case 12:case\"end\":return _context3.stop();}}},_marked3,null,[[0,8]]);}export default function root(){return _regeneratorRuntime.wrap(function root$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeLatest('REQUEST_GET_MARVEL',getMarvel);case 2:_context4.next=4;return takeLatest('REQUEST_GET_MARVEL_ID',getMarvelId);case 4:_context4.next=6;return takeLatest('REQUEST_SEARCH_MARVEL',searchMarvel);case 6:case\"end\":return _context4.stop();}}},_marked4);}","map":{"version":3,"sources":["/Users/Loki_Office/Downloads/MarvelAPI/src/store/sagas/index.js"],"names":["getMarvel","getMarvelId","searchMarvel","root","takeLatest","put","call","delay","api","apiGet","get","params","ts","apikey","hash","limit","offset","apiSearch","name","nameStartsWith","response","type","payload","data","results","apiGetId","id","apiGetSeriesId","action","responseId","responseSerie","dataUser","dataSeries"],"mappings":"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","sourcesContent":["import { takeLatest, put, call, delay } from 'redux-saga/effects';\r\n\r\nimport api from '../../services/api';\r\n\r\nfunction apiGet() {\r\n  return api.get('/v1/public/characters', {\r\n    params: {\r\n      ts: 1,\r\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\r\n      hash: '99ad9749732783208ca457dd8b2a8065',\r\n      limit: 20,\r\n      offset: 0\r\n    }\r\n  });\r\n}\r\n\r\nfunction apiSearch(name) {\r\n  return (\r\n    name !== '' &&\r\n    api.get('/v1/public/characters', {\r\n      params: {\r\n        ts: 1,\r\n        apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\r\n        hash: '99ad9749732783208ca457dd8b2a8065',\r\n        limit: 20,\r\n        offset: 0,\r\n        nameStartsWith: name\r\n      }\r\n    })\r\n  );\r\n}\r\n\r\nfunction* getMarvel() {\r\n  try {\r\n    const response = yield call(apiGet);\r\n\r\n    yield delay(1000);\r\n    yield put({\r\n      type: 'SUCCESS_GET_MARVEL',\r\n      payload: { data: response.data.data.results }\r\n    });\r\n  } catch (err) {\r\n    yield put({ type: 'FAILURE_GET_MARVEL' });\r\n  }\r\n}\r\n\r\nfunction apiGetId(id) {\r\n  return api.get(`/v1/public/characters/${id}`, {\r\n    params: {\r\n      ts: 1,\r\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\r\n      hash: '99ad9749732783208ca457dd8b2a8065'\r\n    }\r\n  });\r\n}\r\n\r\nfunction apiGetSeriesId(id) {\r\n  return api.get(`/v1/public/characters/${id}/series`, {\r\n    params: {\r\n      ts: 1,\r\n      apikey: 'bcd0d1ec98bea664b61eb20f626c3d6d',\r\n      hash: '99ad9749732783208ca457dd8b2a8065'\r\n    }\r\n  });\r\n}\r\n\r\nfunction* getMarvelId(action) {\r\n  try {\r\n    const responseId = yield call(apiGetId, action.payload.id);\r\n    const responseSerie = yield call(apiGetSeriesId, action.payload.id);\r\n\r\n    yield delay(1000);\r\n    yield put({\r\n      type: 'SUCCESS_GET_MARVEL_ID',\r\n      payload: {\r\n        dataUser: responseId.data.data.results,\r\n        dataSeries: responseSerie.data.data.results\r\n      }\r\n    });\r\n  } catch (err) {\r\n    yield put({ type: 'FAILURE_GET_MARVEL_ID' });\r\n  }\r\n}\r\n\r\nfunction* searchMarvel(action) {\r\n  try {\r\n    const response = yield call(apiSearch, action.payload.name);\r\n\r\n    yield put({\r\n      type: 'SUCCESS_SEARCH_MARVEL',\r\n      payload: { data: response.data.data.results }\r\n    });\r\n  } catch (err) {\r\n    yield put({ type: 'FAILURE_SEARCH_MARVEL' });\r\n  }\r\n}\r\n\r\nexport default function* root() {\r\n  yield takeLatest('REQUEST_GET_MARVEL', getMarvel);\r\n  yield takeLatest('REQUEST_GET_MARVEL_ID', getMarvelId);\r\n  yield takeLatest('REQUEST_SEARCH_MARVEL', searchMarvel);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}