{"ast":null,"code":"import _slicedToArray from\"/Users/Loki_Office/Downloads/MarvelAPI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{Bar}from'react-chartjs-2';import allActions from'../../store/actions';import{useDispatch,useSelector}from'react-redux';import Header from'../../components/Header';import Footer from'../../components/Footer';import{Container}from'./style';import CardLoading from'../../components/CardLoading';export default function ChartDemo(){var reference=useRef();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,1),selectedId=_useState4[0];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),draggedContent=_useState6[0],setDraggedContent=_useState6[1];var _useSelector=useSelector(function(state){return{dataMarvel:state.character};}),dataMarvel=_useSelector.dataMarvel;var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),index=_useState8[0],setIndex=_useState8[1];dataMarvel.then(function(response){return setData(response);});var dispatch=useDispatch();useEffect(function(){var getDataMarvel=function getDataMarvel(){dispatch(allActions.characterActions.requestGetMarvel());};getDataMarvel();},[]);var dragStart=function dragStart(index){setDraggedContent(index);};var captureDrag=function captureDrag(e){e.preventDefault();selectCharacter(draggedContent);};var dragOver=function dragOver(e){e.preventDefault();};var selectCharacter=function selectCharacter(index){setIndex(index);};var handleData=function handleData(index){var mainData=data.data[index];var prevData=index>0?data.data[index-1]:data.data[data.data.length-1];var nextData=data.data[index+1];var ad=[[prevData.comics.items.length,prevData.series.items.length],[mainData.comics.items.length,mainData.series.items.length],[nextData.comics.items.length,nextData.series.items.length]];return[{label:'Events',data:ad[0],backgroundColor:['rgba(255, 99, 132, 0.2)','rgba(54, 162, 235, 0.2)'],borderColor:['rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)'],borderWidth:1},{label:'Series',data:ad[1],backgroundColor:['rgba(75, 192, 192, 0.2)','rgba(153, 102, 255, 0.2)'],borderColor:['rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)'],borderWidth:1}];};var handleLabel=function handleLabel(index){var mainData=data.data[index];var prevData=index>0?data.data[index-1]:data.data[data.data.length-1];var nextData=data.data[index+1];return[prevData.name,mainData.name,nextData.name];};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"div\",{className:\"listContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"charecterList\"},(data===null||data===void 0?void 0:data.loading)&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CardLoading,null),\" \",/*#__PURE__*/React.createElement(CardLoading,null),\" \",/*#__PURE__*/React.createElement(CardLoading,null),/*#__PURE__*/React.createElement(CardLoading,null),\" \",/*#__PURE__*/React.createElement(CardLoading,null),\" \",/*#__PURE__*/React.createElement(CardLoading,null),/*#__PURE__*/React.createElement(CardLoading,null),\" \",/*#__PURE__*/React.createElement(CardLoading,null),\" \",/*#__PURE__*/React.createElement(CardLoading,null),/*#__PURE__*/React.createElement(CardLoading,null)),(data===null||data===void 0?void 0:data.data)&&data.data.map(function(item,ind){return/*#__PURE__*/React.createElement(\"div\",{ref:reference,onDragStart:function onDragStart(){return dragStart(ind);},draggable:true,key:ind},/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return selectCharacter(ind);},key:ind},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:index===selectedId?'selectedCharacter':'',ref:reference,onClick:function onClick(){return selectCharacter(ind);},alt:\"\",src:\"\".concat(item.thumbnail.path,\".\").concat(item.thumbnail.extension)})),/*#__PURE__*/React.createElement(\"div\",{className:\"characterName\"},item.name)));}))),/*#__PURE__*/React.createElement(\"div\",{onDrop:captureDrag,onDragOver:dragOver,className:\"chartContainer\"},(data===null||data===void 0?void 0:data.data)&&data.data[0]&&/*#__PURE__*/React.createElement(Bar,{height:550,width:800,data:{labels:handleLabel(index),datasets:handleData(index),options:{responsive:true,animation:{},scales:{yAxes:[{ticks:{beginAtZero:true}}]}}}}))),/*#__PURE__*/React.createElement(Footer,null));}","map":{"version":3,"sources":["/Users/Loki_Office/Downloads/MarvelAPI/src/pages/Chart/index.js"],"names":["React","useState","useEffect","useRef","Bar","allActions","useDispatch","useSelector","Header","Footer","Container","CardLoading","ChartDemo","reference","data","setData","selectedId","draggedContent","setDraggedContent","state","dataMarvel","character","index","setIndex","then","response","dispatch","getDataMarvel","characterActions","requestGetMarvel","dragStart","captureDrag","e","preventDefault","selectCharacter","dragOver","handleData","mainData","prevData","length","nextData","ad","comics","items","series","label","backgroundColor","borderColor","borderWidth","handleLabel","name","loading","map","item","ind","thumbnail","path","extension","labels","datasets","options","responsive","animation","scales","yAxes","ticks","beginAtZero"],"mappings":"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","sourcesContent":["import React, { useState, useEffect , useRef } from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport allActions from '../../store/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport { Container } from './style';\r\nimport CardLoading from '../../components/CardLoading';\r\n\r\nexport default function ChartDemo() {\r\n  const reference = useRef();\r\n  const [data, setData] = useState({});\r\n  const [selectedId,] = useState(0);\r\n  const [draggedContent, setDraggedContent] = useState(null)\r\n  const { dataMarvel } = useSelector(state => ({\r\n    dataMarvel: state.character\r\n  }));\r\n  const [index, setIndex] = useState(0);\r\n  dataMarvel.then(response => setData(response));\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const getDataMarvel = () => {\r\n      dispatch(allActions.characterActions.requestGetMarvel());\r\n    };\r\n    getDataMarvel();\r\n  }, []);\r\n\r\n\r\n  const dragStart = (index) => {\r\n    setDraggedContent(index);\r\n  }\r\n\r\n  const captureDrag = (e) => {\r\n    e.preventDefault();\r\n    selectCharacter(draggedContent);\r\n  }\r\n\r\n  const dragOver = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  const selectCharacter = index => {\r\n    setIndex(index);\r\n  };\r\n  const handleData = index => {\r\n    let mainData = data.data[index];\r\n    let prevData =\r\n      index > 0 ? data.data[index - 1] : data.data[data.data.length - 1];\r\n    let nextData = data.data[index + 1];\r\n    let ad = [\r\n      [prevData.comics.items.length, prevData.series.items.length],\r\n      [mainData.comics.items.length, mainData.series.items.length],\r\n      [nextData.comics.items.length, nextData.series.items.length]\r\n    ];\r\n    return [\r\n      {\r\n        label: 'Events',\r\n        data: ad[0],\r\n        backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)'],\r\n        borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)'],\r\n        borderWidth: 1\r\n      },\r\n      {\r\n        label: 'Series',\r\n        data: ad[1],\r\n        backgroundColor: [\r\n          'rgba(75, 192, 192, 0.2)',\r\n          'rgba(153, 102, 255, 0.2)'\r\n        ],\r\n        borderColor: ['rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],\r\n        borderWidth: 1\r\n      }\r\n    ];\r\n  };\r\n  const handleLabel = index => {\r\n    let mainData = data.data[index];\r\n    let prevData =\r\n      index > 0 ? data.data[index - 1] : data.data[data.data.length - 1];\r\n    let nextData = data.data[index + 1];\r\n    return [prevData.name, mainData.name, nextData.name];\r\n  };\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        <div className=\"listContainer\">\r\n          <div className=\"charecterList\">\r\n          {data?.loading && (\r\n              <>\r\n                <CardLoading /> <CardLoading /> <CardLoading />\r\n                <CardLoading /> <CardLoading /> <CardLoading />\r\n                <CardLoading /> <CardLoading /> <CardLoading />\r\n                <CardLoading />\r\n              </>\r\n            )}\r\n            {data?.data && \r\n              data.data.map((item, ind) => (\r\n                <div ref={reference} onDragStart={() => dragStart(ind)} draggable={true} key={ind} >\r\n                <div onClick={() => selectCharacter(ind)} key={ind}>\r\n                  <div>\r\n                  <img className={index === selectedId ? 'selectedCharacter' : ''} ref={reference} onClick={() => selectCharacter(ind)} alt='' src={`${item.thumbnail.path}.${item.thumbnail.extension}`} />\r\n                  </div>\r\n                  <div className=\"characterName\">{item.name}</div>\r\n                </div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n        <div onDrop={captureDrag} onDragOver={dragOver}  className=\"chartContainer\">\r\n          {data?.data && data.data[0] && (\r\n            <Bar\r\n              height={550}\r\n              width={800}\r\n              data={{\r\n                labels: handleLabel(index),\r\n                datasets: handleData(index),\r\n                options: {\r\n                  responsive: true,\r\n                  animation: {},\r\n                  scales: {\r\n                    yAxes: [\r\n                      {\r\n                        ticks: {\r\n                          beginAtZero: true\r\n                        }\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </Container>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}